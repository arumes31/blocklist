<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css">
    <link rel="icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAG1BMVEWbDg5MaXGbDQ2bDQ2bDQ2bDQ2bDQ2bDg6bDQ2S0cd/AAAACXRSTlP/ALt7nNc9WCMqf+puAAAACXBIWXMAAAPoAAAD6AG1e1JrAAADsElEQVR4nO2b3ZrcIAiGPxHQ+7/iPpqZTJKq8S+1B2H3oNut8fVDQJwUZrHhBTCvCxYbXgDzumCx4QUwrwsGzJnFLoBfC6CwawEsaC2AYEIMoX+oB6ArASwAtxrA/i8AXhcAuKMCsigK3P5nuyQPYFeeerMiBgAM/UZzb1LCCIDnA0BnSMLMMQvIagDwagD41QC0GgC6GkBWA8AtA2B0SoBJAIROCTAw6THqBJ0SYGB+Oh/P+iRAP4A7RF04G/RJgH4AhvjrFmiXAP0A8kt9PwGaJUD3/NHtFDXw3y3YIQG6AT6rtqqfJNQnAUZTT8L03wBIFoD+CYBm5287F2C+B9qORugFKMzf1DSjc/5j5P9t7nkAKgLI4wBanL8lEvGEAC3bEI8I0LAN8YgADdsQ80OgLRtibhZuz4aYnAR3s88BaM381T7AMw6o9wGecUB9HOCBCGjyARrn/zUAt/YMANUD6BMAtn7+ykDEAxHYVJPxRAS2BCIe2gDVgYiG+R3oYnEeSpvUHQpw83v+qk7BAfZiKiC1aQuXt2HPiI4A2F1PTaVAcSjty0/WGAGg77M4nYK0CODN/WZEJYBP78AygNsGjQDwLkB6ojKA3cbPUMBnQrAMwFvpmgBAuRxYBpBt2AQXaC4H3QH4OQpItgqXATALwGar4A3AFocjALbsgZtEBI3laygVU1TSAMIJi6mYc7YBiJtQjDQDENYnBYCKeojpB6GjtQPYVGF14WNJpeDyGgv/UNU51wHAmXWEv1dAa05E4ggBYhuZWpHLA0gGIDzPidR5guweGp9qdEVsBdD4GCvUDLCF4TCA6wbw6wEwB4A7AdI1pBnAbq+LtAN8yvEwAG+vi7QDcDqDNQNIXEgHwOa7FgBKPzJeTTuRursB5i9AOgjONwc4AeQOXoZADrDO3ptTgB1JXKmmrFiMfGqE//pSamxzg63sz1F/MZJq/+JkmdZwTnfMcVHRmQm5C72hgIyPg2f0hpy5myoeyfZucgSAPw/L1qk8AO1pcEZn5DKHogKA3+ln9IaSkSAPYH8xPaU7tukckQWI9xkTFcBB0RoAOQ+doACOS7oFkD11zVMA9vIpfQGA/Cls5ygAaGIbJAH4cqU93htmCVKJKLRi55gd7w2/ptELxN+vvTek+B09ZMPrNVegAYC/jEPBT/aG4QdufqMPrQMu6zvaueV5DMAYv1+fHoTmzleb0TdMLdN2/CBm6wb+owPMYsMLYF4XLDa8AOZ1wWLDC2AWu+APGdBA0CPbWYkAAAAASUVORK5CYII=" />
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .unblock-button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
        }
        .block-button {
            background-color: #f44336;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
            margin-left: 15px;
        }
        .filter-input {
            margin-bottom: 10px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .header-container h2 {
            margin: 0;
            display: flex;
            align-items: center;
        }
        .button-container {
            text-align: right;
        }
        .button-container button {
            margin-left: 10px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }
        .close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .overlay-content {
            text-align: center;
        }
        .banner {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .banner pre {
            margin: 0;
        }
    </style>
</head>
<body>

<div class="header-container">
    <div class="banner">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAACsCAMAAADfXHYxAAAAxXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVDbDcMgDPxnio7gF2DGIQ2VukHHr8FOlUQ9xGEOcxin8Xm/0mOCUJLkqqWVAgZp0qhboODoixFk8cJQ4FAveurPuEQmzRRPAy2+4qHHhWPFblE+GWkY4XY9aBL+ejOKh3hWRBbsYdTCiMkPMAy6fwtK03r+wjbgCvWZJnFd3j+T+16qdW/PJjLRYGQwZlYvgOeUxN2CbEyMM9HGVMCVqMQa8q9PB9IXw75ZrDnD4CkAAAGEaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1NLRSoibUHEIUN1souKOJYqFsFCaSu06mBy6Rc0aUhSXBwF14KDH4tVBxdnXR1cBUHwA8TZwUnRRUr8X1JoEevBcT/e3XvcvQOEZpWpZl8MUDXLSCfiYi6/Kvpf4UMYQQwjLDFTT2YWs+g5vu7h4etdlGf1PvfnGFQKJgM8InGM6YZFvEE8u2npnPeJQ6wsKcTnxJMGXZD4keuyy2+cSw4LPDNkZNPzxCFisdTFchezsqESzxBHFFWjfCHnssJ5i7NarbP2PfkLAwVtJcN1mmNIYAlJpCBCRh0VVGEhSqtGiok07cd7+Ecdf4pcMrkqYORYQA0qJMcP/ge/uzWL01NuUiAO+F5s+2Mc8O8CrYZtfx/bdusE8D4DV1rHX2sCc5+kNzpa5AgY2gYurjuavAdc7gAjT7pkSI7kpSkUi8D7GX1THgjeAgNrbm/tfZw+AFnqavkGODgEJkqUvd7j3f3dvf17pt3fD41XcrE31vXiAAANdmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpmN2JmNjU0My1jOTEwLTQ1ZTAtODA5MC05ODZhYmEyYzE2OWUiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTRkNzQwNmYtMGQyYi00Njk5LWI4YzAtZjFiNjBkMzA3ZDBhIgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6OTIyYmI0ZDItYzk1Yi00ZWUzLTgxNGEtMzZhOTI3NzE3MDlmIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJXaW5kb3dzIgogICBHSU1QOlRpbWVTdGFtcD0iMTcxNjMyMTYyNTQ2ODMzNiIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjM4IgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQ6MDU6MjFUMjI6MDA6MjErMDI6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDI0OjA1OjIxVDIyOjAwOjIxKzAyOjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YmE4M2E4YTctZDkwOC00YTUzLTgxMDUtMzg5MmIwN2Q4MTQxIgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTA1LTIxVDIyOjAwOjI1Ii8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PnfkFggAAAMAUExURUxpcaUAAKYAAKUAAKUAAKYAAKYAAKUAAKYAAKUAAKUAAKUAAP8AAKUAAH8AAKYAAJwAAKoAAKUAAKUAAKYAALYAAKUAAKYAAKcAAKUAAKUAAL8AAKYAAKYAAJkAAKoAAKUAAKMAAKYAAKUAALIAAKUAAKUAAKoAAKcAAKYAAKUAAKYAAKYAAKYAAKUAAKYAAKUAAKUAAKYAAKEAAKgAAKYAAKoAAKIAAKQAAJ8AAKYAAKMAAKYAAKYAAKYAAKoAAKQAAKUAAKUAAKMAAKUAAKYAAKYAAKYAAKUAAKcAAKYAAKUAAKYAAKYAAKoAAKYAAKUAAKoAAKUAAKQAAKUAAKQAAKUAAKcAAKQAAKUAAKUAAKYAAKYAAKIAAKYAAKYAAKUAAKUAAKUAAKUAAKUAAKYAAKUAAKYAAKUAAKYAAKUAAKYAAKgAAKUAAKYAAKUAAKYAAKYAAKUAAKYAAKYAAKYAAKoAAKYAAKUAAKYAAKYAAKUAAKUAAKMAAKUAAKoAAKYAAKYAAKYA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" alt="banner image" style="height: 50px; width: auto;">
    </div> 
    <h2>
        Dashboard 
        <button onclick="blockIP()" class="block-button">Block IP</button>
    </h2>
    <div class="button-container">
        <p>Total IPs: {{ total_ips }}</p>
        <button onclick="window.location.href='/ips'">IP</button>
        <button onclick="window.location.href='/raw'">RAW</button>
        <button onclick="window.location.href='/logout'">LOGOUT</button>
    </div>
</div>

<div id="blockModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h3>Block IP</h3>
        <input type="text" id="ipToBlock" placeholder="Enter IP Address">
        <label for="persistCheckbox">Persistent</label>
        <input type="checkbox" id="persistCheckbox" name="persistCheckbox">
        <button onclick="confirmBlock()">Block</button>
    </div>
</div>

<input type="text" id="filterInput" class="filter-input" onkeyup="filterTable()" placeholder="Search for IP addresses...">

<table id="ipTable">
    <tr>
        <th>IP Address</th>
        <th>Date Added</th>
        <th>Reason</th>
        <th>Country</th>
        <th>City</th>
        <th>Action</th>
    </tr>
    {% for ip, data in ips_with_dates.items() %}
        <tr>
            <td>{{ ip }}</td>
            <td><span class="utc-timestamp">{{ data.timestamp }}</span></td>
            <td>{{ data.reason if data.reason else 'N/A' }}</td>
            <td>
                {% if data.geolocation %}
                    <span class="flag-icon flag-icon-{{ data.geolocation.country|lower }}"></span>
                    {{ data.geolocation.country }}
                {% else %}
                    N/A
                {% endif %}
            </td>
            <td>{{ data.geolocation.city if data.geolocation else 'N/A' }}</td>
            <td><button class="unblock-button" onclick="unblock('{{ ip }}')">Unblock</button></td>
        </tr>
    {% endfor %}
</table>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var utcTimestamps = document.querySelectorAll('.utc-timestamp');
        utcTimestamps.forEach(function(timestamp) {
            var utcString = timestamp.innerText;
            var date = new Date(utcString);
            var localTime = date.toLocaleString();
            timestamp.innerText = localTime;
        });
    });
	
    function filterTable() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("filterInput");
        filter = input.value.toUpperCase();
        table = document.getElementById("ipTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[0];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function blockIP() {
        document.getElementById('blockModal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('blockModal').style.display = 'none';
    }

    function confirmBlock() {
        var ipToBlock = document.getElementById('ipToBlock').value;
        var persistCheckbox = document.getElementById('persistCheckbox').checked;
        if (ipToBlock) {
            fetch('/block', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ 'ip': ipToBlock, 'persist': persistCheckbox })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    alert('IP blocked successfully!');
                    closeModal();
                } else {
                    alert('Failed to block IP!');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Failed to block IP!');
            });
        } else {
            alert('Please enter an IP address to block.');
        }
    }

    function unblock(ip) {
        fetch('/unblock', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ 'ip': ip })
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                alert('IP unblocked successfully!');
                location.reload();
            } else {
                alert('Failed to unblock IP!');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Failed to unblock IP!');
        });
    }

    setTimeout(function() {
        document.querySelector('.overlay').style.display = 'none';
    }, 3000);
</script>

</body>
</html>
